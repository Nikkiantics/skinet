{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { ShopParams } from '../shared/models/shopParams';\nlet ShopComponent = class ShopComponent {\n  constructor(shopService) {\n    this.shopService = shopService;\n    this.shopParams = new ShopParams();\n    this.sortOptions = [{\n      name: 'Alphabetical',\n      value: 'name'\n    }, {\n      name: 'Price: Low to high',\n      value: 'priceAsc'\n    }, {\n      name: 'Price: High to low',\n      value: 'priceDesc'\n    }];\n  }\n  ngOnInit() {\n    this.getProducts();\n    this.getBrands();\n    this.getTypes();\n  }\n  getProducts() {\n    this.shopService.getProducts(this.shopParams).subscribe(response => {\n      this.products = response.data;\n      this.shopParams.pageNumber = response.pageIndex;\n      this.shopParams.pageSize = response.pageSize;\n      this.totalCount = response.count;\n    }, error => {\n      console.log(error);\n    });\n  }\n  getBrands() {\n    this.shopService.getBrands().subscribe(response => {\n      this.brands = [{\n        id: 0,\n        name: 'All'\n      }, ...response];\n    }, error => {\n      console.log(error);\n    });\n  }\n  getTypes() {\n    this.shopService.getTypes().subscribe(response => {\n      this.types = [{\n        id: 0,\n        name: 'All'\n      }, ...response];\n    }, error => {\n      console.log(error);\n    });\n  }\n  onBrandSelected(brandId) {\n    this.shopParams.brandId = brandId;\n    this.shopParams.pageNumber = 1;\n    this.getProducts();\n  }\n  onTypeSelected(typeId) {\n    this.shopParams.typeId = typeId;\n    this.shopParams.pageNumber = 1;\n    this.getProducts();\n  }\n  onSortSelected(sort) {\n    this.shopParams.sort = sort;\n    this.getProducts();\n  }\n  onPageChanged(event) {\n    if (this.shopParams.pageNumber !== event) {\n      this.shopParams.pageNumber = event;\n      this.getProducts();\n    }\n  }\n  onSearch() {\n    this.shopParams.search = this.searchTerm.nativeElement.value;\n    this.shopParams.pageNumber = 1;\n    this.getProducts();\n  }\n  onReset() {\n    this.searchTerm.nativeElement.value = '';\n    this.shopParams = new ShopParams();\n    this.getProducts();\n  }\n};\n__decorate([ViewChild('search', {\n  static: true\n})], ShopComponent.prototype, \"searchTerm\", void 0);\nShopComponent = __decorate([Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.scss']\n})], ShopComponent);\nexport { ShopComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}